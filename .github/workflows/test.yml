---
name: Testing Matrix
on: 
  push:
    branches:
      - develop
jobs:
  transform_matrix:
    name: Transform Matrix
    runs-on: ubuntu-latest
    outputs:
      name : ${{ env.names }}
    strategy:
      fail-fast: false
      matrix:
        hyprland_build:
        - fedora
        - solopasha
        - git

    steps:
      - name: Checkout Push to Registry action
        uses: actions/checkout@v4
  
  
      - name: Transform Matrix
        id: transform_matrix
        shell: bash
        run: |
          echo "names=${{ matrix.hyprland_build }}" >> $GITHUB_ENV
      - name: Matrix check
        run: |
          echo "Names: ${{ steps.transform_matrix.names }}" >> $GITHUB_ENV
  process_from_matrix:
    uses: './.github/workflows/process-from-matrix.yml'
    needs:
      transform_matrix
    with:
      name: ${{ needs.transform_matrix.outputs.name}}